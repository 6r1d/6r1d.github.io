<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="main.css">
    <title>Mike Bostock's "Closest Point on Path" with SVG.JS</title>
</head>
<body>
    <h2>Mike Bostock's "Closest Point on Path" with SVG.JS</h2>

    <p>
        <a href="https://bl.ocks.org/mbostock/8027637">Original "Closest point on path" example</a>.
        <br/>
        This code was done to play around and you can use it as you like.
    </p>

    <h3>Demo using <a href="https://github.com/svgdotjs/svg.draggable.js">svg.draggable.js</a></h3>

    <div class="drawing-container">
        <div class="drawing" id='d4'></div>
    </div>

    <p>
        If you are interested how I am filling a segment, take a look at
        <a href="https://lmgonzalves.github.io/2015/10/26/animating-svg-path-segments/">this article</a>.
        I am using <b>update_path_segment_attributes</b> function in <a href="util.js">util.js</a>.
        <br/>
        In original example, Mike used this Bezier curve
        <a href="https://pomax.github.io/bezierinfo/#projections">reference</a>.
    </p>

    <h3>How-to</h3>

    <h4>Setup</h4>

    <p class="text">
        Let's begin with a circle, which for now will be located at the center,
        and in the end will be our draggable element. Line will point to it
        from any mouse coordinates and we will at least know that coordinates
        work fine.
    </p>

    <div class="drawing-container">
        <div class="drawing" id='d1'></div>
    </div>

    <h4>Curve</h4>

    <p class="text">Now let's add a curve from SVG.js docs.</p>

    <div class="drawing-container">
        <div class="drawing" id='d2'></div>
    </div>

    <h4>Math</h4>

    <p class="text">
        It's quite easy to make original example to work with SVG.js:
        I had to change some methods to SVG.js ones and it just worked
        as I expected.

        Yes, I know, it looks kind of like this...
        <p>
            <img src="http://i0.kym-cdn.com/photos/images/facebook/000/572/078/d6d.jpg" width="300px" />
        </p>
        <p>
            Still, read util.js, pay attention to <b>get_closest_point</b>
            function in <a href="util.js">util.js</a> and you'll understand soon.
        </p>
    </p>

    <div class="drawing-container">
        <div class="drawing" id='d3'></div>
    </div>

    <script src="svg.js/dist/svg.js" charset="utf-8"></script>
    <script src="svg.draggable.js/dist/svg.draggable.js" charset="utf-8"></script>
    <script src="util.js" charset="utf-8"></script>
    <script src="main.js" charset="utf-8"></script>
</body>
</html>
